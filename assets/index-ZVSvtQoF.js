(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();class l{constructor(){this.obj={minusBtns:document.querySelectorAll(".quantity__button.--minus"),plusBtns:document.querySelectorAll(".quantity__button.--plus")},this.getMinus(),this.getPlus()}getMinus(){this.obj.minusBtns.length>0&&this.obj.minusBtns.forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const t=e.nextElementSibling,s=Number(t.value);let i=t.getAttribute("step"),r=Number(t.getAttribute("min"));i=typeof i<"u"?Number(i):1,s>r&&(t.value=s-i)})})}getPlus(){this.obj.plusBtns.length>0&&this.obj.plusBtns.forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const t=e.previousElementSibling,s=Number(t.value);let i=t.getAttribute("step"),r=Number(t.getAttribute("max"));i=typeof i<"u"?Number(i):1,s<r&&(t.value=s+i)})})}}class a{constructor(e){this.threshold=20,this.startX=0,this.oldX=0,this.position=0,this.snapPosition=0,this.isDrag=!1,this.userDragged=!1,this.slider=e,this.obj={items:this.slider.querySelectorAll(".products__item")},this.setDimensions(),this.bindHandlers()}setDimensions(){const e=this.slider.offsetWidth,n=this.obj.items[0].offsetWidth,t=this.obj.items.length*n;this.itemWidth=n,this.maxAllowedW=e<t?e-t-64:0}calculateBoundaries(e,n=!0){const t=n?this.itemWidth/4:0;return e>t?t:e<this.maxAllowedW-t?this.maxAllowedW-t:e}calculateSnapPosition(e,n){let t=(~~(e/this.itemWidth)-n)*this.itemWidth;return t<this.maxAllowedW&&(t=this.maxAllowedW),t}mapToRange(e,n,t,s,i){return(e-n)*(i-s)/(t-n+s)}handleTouchStart(e){e.touches.length>1||this.handleStart(e)}handleMouseStart(e){this.handleStart(e)}handleStart(e){this.isDrag=!0,this.userDragged=!1,this.position=this.snapPosition,this.startX=(e.pageX||e.touches[0].pageX)-this.slider.offsetLeft,this.slider.classList.add("--active")}handleTouchMove(e){e.touches.length>1||this.handleMove(e)}handleMouseMove(e){e.preventDefault(),e.stopPropagation(),this.handleMove(e)}handleMove(e){if(!this.isDrag)return;const n=(e.pageX||e.touches[0].pageX)-this.slider.offsetLeft,t=n-this.startX;if(Math.abs(t)<this.threshold)return;const s=this.oldX-n<0?0:1,i=this.mapToRange(Math.abs(t),this.threshold,window.innerWidth,1,3),r=this.calculateBoundaries(this.position+t*i);e.preventDefault(),e.stopPropagation(),this.userDragged=!0,this.snapPosition=this.calculateSnapPosition(r,s),this.oldX=n,this.slider.setAttribute("style",`transform: translate3d(${r}px, 0, 0)`)}handleEnd(){this.isDrag=!1,this.slider.classList.remove("--active"),this.slider.setAttribute("style",`transform: translate3d(${this.snapPosition}px, 0, 0)`)}handleResize(){this.setDimensions()}handleClick(e){this.userDragged&&(e.preventDefault(),e.stopPropagation(),this.userDragged=!1)}bindHandlers(){this.slider.addEventListener("touchstart",e=>this.handleTouchStart(e)),this.slider.addEventListener("touchmove",e=>this.handleTouchMove(e)),this.slider.addEventListener("touchend",e=>this.handleEnd(e)),this.slider.addEventListener("mousedown",e=>this.handleMouseStart(e)),this.slider.addEventListener("mousemove",e=>this.handleMouseMove(e)),this.slider.addEventListener("mouseup",e=>this.handleEnd(e)),this.slider.addEventListener("mouseleave",e=>this.handleEnd(e)),this.slider.addEventListener("click",e=>this.handleClick(e)),window.addEventListener("resize",()=>this.handleResize())}}class h{constructor(){new l,document.querySelectorAll(".products__list").forEach(e=>{new a(e)})}}document.addEventListener("DOMContentLoaded",()=>{new h});
